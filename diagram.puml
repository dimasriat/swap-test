@startuml ChainlinkSwapUML

class ChainlinkSwap {
	- ChainlinkOracle oracle
	- UniswapV3Wrapper uniswapWrapper

	+ bool swapFromETH(address tokenOut) [payable]
	+ bool swapToETH(address tokenIn, uint256 amount)
}

class ChainlinkOracle {
	- IAggregatorV3 baseFeed
	- IAggregatorV3 quoteFeed

	+ uint256 getBasePrice()
	+ uint256 getQuotePrice()
}

class UniswapV3Wrapper {
	- ISwapRouter router

	+ bool swapFromETH(address tokenOut) [payable]
	+ bool swapToETH(address tokenIn, uint256 amount)
}

interface ISwapRouter {
	+ uint256 exactInput()
	+ void unwrapWETH9()
	+ void multicall()
}
hide ISwapRouter attributes

interface IAggregatorV3 {
	+ uint8 decimals()
	+ (,int256 price,,,) latestRoundData()
}
hide IAggregatorV3 attributes

ChainlinkSwap --> ChainlinkOracle
ChainlinkSwap --> UniswapV3Wrapper
UniswapV3Wrapper ..> ISwapRouter
ChainlinkOracle ..> IAggregatorV3

class User {
	- ChainlinkSwap swap
	
	+ bool swapFromETH(address tokenOut)
	+ bool swapToETH(address tokenIn, uint256 amount)
}
User -> ChainlinkSwap

@enduml

' https://plantuml.com/class-diagram
